$(document).ready(function(){if(!document.querySelector(".GPC0022"))return!1;var n={$el:$(".GPC0022"),alert:document.getElementById("compare_alert"),cookieArray:null,maximum:null,url:null,compareLink:{productCompareURL:null,bundleCompareURL:null},compareBtn:null,markup:{blank:null,item:null},init:function(){this.markup.blank=n.$el.find("template.empty-item").clone().html(),this.markup.item=n.$el.find("template.product-item").clone().html(),n.$el.find("template.empty-item").remove(),n.$el.find("template.product-item").remove(),this.url=n.$el.attr("data-compare-url"),this.maximum="Y"==n.$el.attr("data-type-plp").toUpperCase()?6:3,this.compareLink.productCompareURL=n.$el.find(".compare-control .button").data("product-compare"),this.compareLink.bundleCompareURL=n.$el.find(".compare-control .button").data("bundle-compare"),this.compareBtn=this.$el.find(".compare-control .btn-compare a.btn"),this.slick.init(),n.trigger.init(),$("body").on({"initialized-plp":function(){document.querySelector(".js-compare")&&n.trigger.init()}}),$("body").on("click",".go-compare-sticky",function(e){e.preventDefault(),n.$el.find(".compare-sticky-collspace button:visible").focus()}),"component-compareSticky"==n.$el.attr("aria-labelldby")&&n.$el.removeAttr("aria-labelldby")},getBizType:function(e){var r=$(".navigation")&&$(".navigation").hasClass("b2b")?"B2B":"B2C";return 0<$(".search-contents-area").length&&e&&(r=0<e.closest(".business-product-list").length||e.closest(".products-box").hasClass("b2b")?"B2B":"B2C"),r},switcher:function(e){var r,t,a,o,i,l,c,s;e.preventDefault(),"undefined"==typeof ePrivacyCookies||ePrivacyCookies.get("LGCOM_IMPROVEMENTS")?(r=e.currentTarget,c=$(r).hasClass("added"),t=r.getAttribute("data-model-id"),a=n.url,$(r).data("modelId",t),o=encodeURI(xssfilter(jQuery.param($(r).data()))),e=$(r).find(".add.sr-only").text(),i=$(r).find(".remove.sr-only").text(),c?(n.remove(t),$(r).removeClass("added").attr("aria-label",e)):(adobeTrackEvent("add-to-compare",{products:[{sales_model_code:findSalesModel($(this)),model_name:findModelName($(this))}],page_event:{add_to_compare:!0}}),c=n.maximum,e=getCookie(compareCookie.name),s=e?(e=0<=e.indexOf("|")?e.split("|"):[e]).length+1:1,e&&c<s?($(n.alert).find(".number").text(c),$(n.alert).find(".maximum").show().siblings().hide(),$(n.alert).modal("show")):(c=n.$el.attr("data-current-category"),l=n.getBizType($(r)),c&&""!=c&&(o=o+"&currentCategory="+n.$el.attr("data-current-category")),o=o+"&bizType="+l,!e||"LG5_CompareCart"==compareCookie.name&&"B2C"==l||"LG5_B2B_CompareCart"==compareCookie.name&&"B2B"==l?(c=!1,!e&&("LG5_CompareCart"==compareCookie.name&&"B2B"==l||"LG5_B2B_CompareCart"==compareCookie.name&&"B2C"==l)&&(c=!0),compareCookie.name="B2C"==l?"LG5_CompareCart":"LG5_B2B_CompareCart",c&&removeCookie(compareCookie.name),ajax.noCacheCall(a,o,"json",function(e){var r,a;1==e.result||"success"==e.status?(r=e.data[0].productList[0],a=n.$el.attr("data-type-plp"),("A"==r.modelType.toUpperCase()||"G"==r.modelType.toUpperCase()||"O"==r.modelType.toUpperCase()||"B"==r.modelType.toUpperCase()&&"Y"==r.bundlePlpDisplayFlag.toUpperCase()?"Y":"N")==a?(n.slick.addItem(t,r,e.data[0].productMessages),n.slick.switchLayer(!0,s),compareCookie.add(t),$("a.js-compare[data-model-id="+t+"]").addClass("added").attr("aria-label",i),(e=n.$el.attr("data-current-category"))&&""!=e||n.$el.attr("data-current-category",r.categoryId),n.compareBtn.attr("href",n.compareLink.productCompareURL+"?bizType="+l)):($(n.alert).find(".clear-category").show().siblings().hide(),$(n.alert).modal("show"))):($(n.alert).find(".clear-category").show().siblings().hide(),$(n.alert).modal("show"))},null,"body")):($(n.alert).find(".clear-category").show().siblings().hide(),$(n.alert).modal("show"))))):ePrivacyCookies.view("click")},remove:function(e){var r=getCookie(compareCookie.name),r=r?(r=0<=r.indexOf("|")?r.split("|"):[r]).length-1:0;n.slick.removeItem(e),compareCookie.remove(e),n.$el.find(".count").text(r),0==r&&n.$el.removeAttr("data-current-category")},slick:{$slideTarget:null,opt:{infinite:!1,slidesToShow:3,slidesToScroll:1,arrows:!0,dots:!1,responsive:[{breakpoint:992,settings:{slidesToShow:2,slidesToScroll:1}},{breakpoint:768,settings:{slidesToShow:2,slidesToScroll:1,arrows:!1}}]},init:function(){var t=n.slick,e=n.$el;t.$slideTarget=e.find(".compare-product");var r=getCookie(compareCookie.name);r&&t.getCookieProducts(r),t.$slideTarget.slick(t.opt),mql.maxMd.addListener(t.branch),t.setMobileDisabled(),t.$slideTarget.on({click:function(e){e=$(e.currentTarget).closest(".item").attr("data-model-id");n.remove(e)}},".close"),e.on({click:function(e){t.$slideTarget.slick("unslick"),t.$slideTarget.html("");for(var r=[],a=0;a<3;a++)r+=n.markup.blank;t.$slideTarget.html(r),t.$slideTarget.slick(t.opt),compareCookie.remove(),$(".js-compare").removeClass("added"),$(".js-compare").each(function(){var e=$(this).find(".add.sr-only").text();$(this).attr("aria-label",e)}),n.$el.removeAttr("data-current-category"),t.switchLayer(!1,0)}},".clear")},getCookieProducts:function(e){var r=n.$el.attr("data-compare-list"),o=n.getBizType(),e=n.$el.attr("data-name")+"="+encodeURI(e)+"&bizType="+o;ajax.noCacheCall(r,e,"json",function(e){if(e&&null!=e.data){for(var r,a=e.data[0].productList.length-1;0<=a;a--){var t=e.data[0].productList[a];n.slick.addItem(t.modelId,t,e.data[0].productMessages)}e.data[0].productList[0]&&(r=e.data[0].productList[0].categoryId,n.$el.attr("data-current-category",r),n.slick.switchLayer(!0,e.data[0].productList.length),r=(r="A"==(r=e.data[0].productList[0]).modelType.toUpperCase()||"G"==r.modelType.toUpperCase()||"O"==r.modelType.toUpperCase()||"B"==r.modelType.toUpperCase()&&"Y"==r.bundlePlpDisplayFlag.toUpperCase())?"Y":"N",n.$el.attr("data-type-plp",r),n.compareBtn.attr("href",n.compareLink.productCompareURL+"?bizType="+o))}})},setMobileDisabled:function(){var e=n.slick,r=e.$slideTarget.find(".item:eq(2)");r.is(".no-item")&&r.addClass("mobile-disable"),e.branch(mql.maxMd)},branch:function(e){var r=n.slick;e.matches?r.$slideTarget.slick("slickFilter",":not(.mobile-disable)"):r.$slideTarget.slick("slickUnfilter")},setBlank:function(){var e,r=n.slick,a=r.$slideTarget.find(".product").length,t=r.$slideTarget.find(".no-item");if(t[0])for(var o=0;o<t.length;o++){var i=r.$slideTarget.slick("getSlick").slideCount-1;r.$slideTarget.slick("slickRemove",i)}if(a<3){e=3-a;for(var l=0;l<e;l++)r.$slideTarget.slick("slickAdd",n.markup.blank)}r.setMobileDisabled()},addItem:function(e,r,a){var t=n.slick,o=(o=n.markup.item).replace(/\*modelId\*/g,e).replace(/\*userFriendlyName\*/g,null==r.userFriendlyName?"":r.userFriendlyName.replace(/\"/g,"''")).replace(/\*mediumImageAddr\*/g,r.mediumImageAddr).replace(/\*imageAltText\*/g,null!=r.imageAltText?r.imageAltText:"").replace(/\*modelUrlPath\*/g,r.modelUrlPath).replace(/\*discountedRate\*/g,r.discountedRate).replace(/\*rPrice\*\.\*rPriceCent\*/g,r.rPrice?changeFormatFullPrice(r.rPrice,r.rPriceCent):"null").replace(/\*rPromoPrice\*\.\*rPromoPriceCent\*/g,r.rPromoPrice?changeFormatFullPrice(r.rPromoPrice,r.rPromoPriceCent):"null").replace(/\*rPrice\*/g,r.rPrice?changeFormatPrice(r.rPrice):"null").replace(/\*rPromoPrice\*/g,r.rPromoPrice?changeFormatPrice(r.rPromoPrice):"null").replace(/,\*rPriceCent\*/g,r.rPriceCent?","+r.rPriceCent:"").replace(/,\*rPromoPriceCent\*/g,r.rPromoPriceCent?","+r.rPromoPriceCent:"").replace(/\*rPriceCent\*/g,r.rPriceCent||"null").replace(/\*rPromoPriceCent\*/g,r.rPromoPriceCent||"null").replace(/\*discountMsg\*/g,null==r.discountMsg?"":r.discountMsg.replace(/&lt;/gi,"<").replace(/&gt;/gi,">")).replace(/\*retailerPricingText\*/g,r.retailerPricingText),i=$(o),e=i.find(".price-area");"DISCONTINUED"==r.modelStatusCode?(e.filter(".rPrice").html(""),e.filter(".rPromoPrice").remove(),e.filter(".retailer").remove()):"Y"==r.retailerPricingFlag?(e.filter(".rPrice").remove(),e.filter(".rPromoPrice").remove()):(r.rPromoPrice&&null!=r.rPromoPrice&&r.rPrice&&null!=r.rPrice?e.filter(".rPrice").remove():(r.rPrice&&null!=r.rPrice||e.filter(".rPrice").html(""),e.filter(".rPromoPrice").remove()),e.filter(".retailer").remove()),"Y"==r.vipPriceFlag&&(e.find(".product-price").remove(),e.append('<div class="product-price vip"><div class="vip-price"><span class="name">'+a.vipPriceMessage+"</span></div></div>")),"null"==i.find(".model-name a").text()&&i.find(".model-name a").empty(),o=i.get(0).outerHTML,t.$slideTarget.slick("slickAdd",o,0,!0),t.setBlank()},removeItem:function(e){var r=n.slick,a=$('.item[data-model-id="'+e+'"]').index(),t=$('.js-compare[data-model-id="'+e+'"]');r.$slideTarget.slick("slickRemove",a),r.setBlank(),1==t.length?t.removeClass("added").attr("aria-label",t.find(".add.sr-only").text()):t.each(function(e){t.eq(e).removeClass("added").attr("aria-label",t.eq(e).find(".add.sr-only").text())}),0==r.$slideTarget.find(".product").length&&r.switchLayer(!1)},switchLayer:function(e,r){var a=n.slick;e?(n.$el.addClass("active"),setTimeout(function(){a.$slideTarget.slick("setPosition"),n.$el.find(".compare-sticky-collspace .open").on("click",function(){n.$el.find(".compare-sticky-collspace .open").removeClass("active"),n.$el.find(".compare-sticky-collspace .close").addClass("active"),n.$el.removeClass("compare-min"),$("body").removeClass("compare-sticky-min"),n.$el.find(".compare-sticky-collspace button:visible").focus()}),n.$el.find(".compare-sticky-collspace .close").on("click",function(){n.$el.find(".compare-sticky-collspace .open").addClass("active"),n.$el.find(".compare-sticky-collspace .close").removeClass("active"),n.$el.addClass("compare-min"),$("body").addClass("compare-sticky-min"),n.$el.find(".compare-sticky-collspace button:visible").focus()}),n.$el.addClass("showing"),$("body").addClass("compare-sticky-showing"),"number"==typeof r&&NaN!==r&&n.$el.find(".count").text(r)},50)):(n.$el.removeClass("showing"),$("body").removeClass("compare-sticky-showing"),n.$el.off("transitionend webkitTransitionEnd oTransitionEnd").on({"transitionend webkitTransitionEnd oTransitionEnd":function(){n.$el.hasClass("showing")||(n.$el.removeClass("active"),$("body").removeClass("compare-sticky-showing"),$("body").removeClass("compare-sticky-min"))}}))}},trigger:{init:function(){$("body").off("click.jsCompare").on({"click.jsCompare":n.switcher},".js-compare");var e=getCookie(compareCookie.name);if(e){e=0<=e.indexOf("|")?e.split("|"):[e];for(var r=0;r<e.length;r++){var a=document.querySelectorAll('.js-compare[data-model-id="'+e[r]+'"]');$(a).addClass("added")}}$(".js-compare").each(function(){var e=($(this).is(".added")?$(this).find(".remove.sr-only"):$(this).find(".add.sr-only")).text();$(this).attr("aria-label",e)})}},cookie:null};n.init()});
//# sourceMappingURL=maps/GPC0022.min.js.map
