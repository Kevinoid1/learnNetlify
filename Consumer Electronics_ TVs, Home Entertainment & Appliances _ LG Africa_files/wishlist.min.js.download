//plp gpc0007, gpc0009, gpc0026 wish
var countrycode=document.getElementsByTagName("html")[0].getAttribute("data-countrycode"),wishDataUrl=$("#wishDataUrl").val();function setWish(i){i={modelId:i};ajax.noCacheCall(wishDataUrl,i,"json",function(i){var t=0<$(".GPC0009").length,e=$("[data-wish-model-id="+i.modelId+"]");"L"==i.flag?(e.find("[data-wish-ico]").addClass("wishTarget"),$("#plp-wish-sign").modal("show"),t?$("#tempData").trigger("pdp_wish_no_signin"):$("#tempData").trigger("plp_wish_no_signin")):(isMobile&&0<$(".list-box").length&&$(".list-box").addClass("mobile-list"),0<$(".GPC0009").length?isMobile&&0<$(".pdp-sideInfo").length&&$(".pdp-sideInfo").addClass("mobile-sideInfo"):isMobile&&0<$(".pd-sideInfo").length&&$(".pd-sideInfo").addClass("mobile-sideInfo"),e.find("[data-wish-cnt]").text(i.wishCnt),"Y"==i.flag?(e.find("[data-is-wish-on]").addClass("on"),t?$("#tempData").trigger("pdp_wish_icon_select"):$("#tempData").trigger("plp_wish_icon_select")):(e.find("[data-is-wish-on]").removeClass("on"),t?$("#tempData").trigger("pdp_wish_icon_unselect"):$("#tempData").trigger("plp_wish_icon_unselect")),e.find("[data-wish-ico]").attr("aria-checked","Y"==i.flag?"true":"false"))})}$(document).on("click",".pd-fav .ico-fav",function(){$("#v").val((new Date).getTime());var i=$(this),t=sessionStorage.getItem("ACCESS_TOKEN"),e="";0<$(".GPC0007").length||0<$(".GPC0026").length||0<$(".GPC0132").length?e=i.closest(".pd-sideInfo").find(".wish-inner").attr("data-product-id"):0<$(".GPC0009").length&&(e=i.closest(".pdp-sideInfo").find(".wish-inner").attr("data-product-id"));var s=$("[data-wish-model-id="+e+"]");t?s.find("[data-is-wish-on]").hasClass("on")&&isMobile?(0<$(".GPC0007").length||0<$(".GPC0026").length||0<$(".GPC0132").length?isMobile&&0<$(".pd-sideInfo").length&&$(".pd-sideInfo").addClass("mobile-sideInfo"):0<$(".GPC0009").length&&isMobile&&0<$(".pdp-sideInfo").length&&$(".pdp-sideInfo").addClass("mobile-sideInfo"),$("#plp-wish-count").attr("data-wish-count-product-id",e),$("#plp-wish-count").modal("show")):setWish(e):(i.addClass("wishTarget"),$("#plp-wish-sign").modal("show"))}),$(document).on("keyup , keydown",".pd-fav",function(i){"keyup"==i.type&&($(i.target).length<0?$(".pd-fav").removeClass("keyMove"):$(this).addClass("keyMove")),"keydown"==i.type&&(9!=i.keyCode||$(this).hasClass("on")&&"A"!=i.target.nodeName||$(".pd-fav").removeClass("keyMove"),i.shiftKey&&9==i.keyCode&&$(".pd-fav").removeClass("keyMove"))}),$(document).ready(function(){var i,t;(0<$(".GPC0007").length||0<$(".GPC0009").length||0<$(".GPC0026").length||0<$(".GPC0132").length)&&(isMobile&&0<$(".list-box").length&&$(".list-box").addClass("mobile-list"),isMobile&&0<$(".pdp-sideInfo").length&&$(".pdp-sideInfo").addClass("mobile-sideInfo")),$("#plp-wish-sign").on("hidden.bs.modal",function(i){$(".wishTarget").focus(),$(".ico-fav").removeClass("wishTarget")}),$("#plp-wish-count").on("hidden.bs.modal",function(i){$(".wishTarget").focus(),$(".ico-fav").removeClass("wishTarget"),$("#plp-wish-count").attr("data-wish-count-product-id","")}),$("#goWish").on("click",function(){location.href=$("#goWish").attr("data-go-wish-url")}),$("#wishRemove").on("click",function(){var i=$("#plp-wish-count").attr("data-wish-count-product-id");$("#plp-wish-count").attr("data-wish-count-product-id",""),setWish(i)}),$("#signIn").click(function(){var i=window.location.href;location.href="/"+countrycode+"/my-lg/login?state="+i}),0<!$("[data-wish-model-id]").length||(i=$("[data-wish-url]").eq(0).attr("data-wish-url"),t=[],$("[data-wish-model-id]").each(function(){t.push($(this).attr("data-wish-model-id"))}),0<t.length&&ajax.noCacheCall(i,{modelIds:t},"json",function(i){for(var t=i.wishList,e=0;e<t.length;e++){var s=t[e],a=s.modelId,o=s.wishCnt,s=s.isWishOn,a=$("[data-wish-model-id="+a+"]");a.find("[data-wish-cnt]").text(o),a.find("[data-is-wish-on]").removeClass("on").addClass(s)}}))});
//# sourceMappingURL=maps/wishlist.min.js.map
